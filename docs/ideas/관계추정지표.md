# 관계 추정 지표 및 방법론

## 1. 데이터 수집 항목

### Instagram 공개 정보 수집 대상:
- **프로필 정보**: bio, 팔로워 수, 팔로잉 수
- **팔로우 관계**: 공통 팔로워/팔로잉 목록
- **게시글 내용**: 해시태그, 캡션 키워드
- **상호작용**: 좋아요, 댓글 패턴

## 2. 관계 추정 지표

### A. 팔로우 관계 기반 (가중치: 40%)
```
공통 팔로워 점수 = (공통 팔로워 수 / 전체 팔로워 수) × 100
공통 팔로잉 점수 = (공통 팔로잉 수 / 전체 팔로잉 수) × 100
```

**예시:**
- 사용자 A: 팔로워 1000명, 사용자 B와 공통 팔로워 200명
- 공통 팔로워 점수 = (200 / 1000) × 100 = 20점

### B. 프로필 유사성 기반 (가중치: 30%)
```
bio 키워드 일치도 = (공통 키워드 수 / 전체 키워드 수) × 100
관심사 유사도 = 해시태그, 캡션 분석
```

**분석 항목:**
- bio 텍스트 키워드 매칭
- 자주 사용하는 해시태그 패턴
- 게시글 캡션 스타일 유사성

### C. 상호작용 기반 (가중치: 30%)
```
좋아요 빈도 = 상호 좋아요 수 / 전체 게시글 수
댓글 빈도 = 상호 댓글 수 / 전체 게시글 수
```

## 3. 최종 점수 계산

### 가중치 적용 공식:
```
최종 점수 = (팔로우 점수 × 0.4) + (프로필 점수 × 0.3) + (상호작용 점수 × 0.3)
```

### 관계 등급 분류:
- **90-100점**: 매우 친한 사이 (가족, 절친)
- **70-89점**: 친한 사이 (친구, 동료)
- **50-69점**: 아는 사이 (지인, 동아리)
- **30-49점**: 약간 아는 사이 (같은 학교, 회사)
- **10-29점**: 거의 모르는 사이
- **0-9점**: 모르는 사이

## 4. 구현 예시 코드

```python
def calculate_relationship_score(user1, user2):
    """두 사용자 간의 관계 점수를 계산"""
    
    # 팔로우 관계 분석
    common_followers = get_common_followers(user1, user2)
    follow_score = (len(common_followers) / user1.followers) * 100
    
    # 프로필 유사성 분석
    bio_similarity = analyze_bio_similarity(user1, user2)
    
    # 상호작용 분석
    interaction_score = analyze_interactions(user1, user2)
    
    # 최종 점수 계산
    final_score = (follow_score * 0.4) + (bio_similarity * 0.3) + (interaction_score * 0.3)
    
    return final_score

def get_relationship_grade(score):
    """점수를 등급으로 변환"""
    if score >= 90:
        return "매우 친한 사이"
    elif score >= 70:
        return "친한 사이"
    elif score >= 50:
        return "아는 사이"
    elif score >= 30:
        return "약간 아는 사이"
    elif score >= 10:
        return "거의 모르는 사이"
    else:
        return "모르는 사이"
```

## 5. 고려사항 및 제한사항

### 기술적 제한:
- **공개 계정만**: 비공개 계정은 접근 불가
- **API 제한**: Instagram 정책 준수 필요
- **데이터 정확성**: 일부 정보는 불완전할 수 있음
- **Rate Limiting**: 너무 빠른 요청은 차단될 수 있음

### 개선 방안:
- **시간 가중치**: 최근 상호작용에 더 높은 가중치
- **컨텍스트 분석**: 특정 이벤트나 시기 고려
- **머신러닝**: 더 정교한 패턴 분석
- **다중 플랫폼**: Twitter, Facebook 등 추가 고려

## 6. 테스트 계획

### 테스트 케이스:
1. **아는 사이 계정 쌍**: 실제로 친한 사람들로 테스트
2. **모르는 사이 계정 쌍**: 실제로 모르는 사람들로 테스트
3. **다양한 관계 유형**: 가족, 친구, 동료, 지인 등

### 검증 방법:
- 실제 관계와 예측 결과 비교
- 점수 분포 분석
- 정확도 측정

## 7. 향후 확장 가능성

### 추가 분석 요소:
- **지리적 근접성**: 위치 태그 분석
- **시간적 패턴**: 특정 시간대 상호작용
- **감정 분석**: 댓글 감정 분석
- **네트워크 분석**: 공통 지인 네트워크

### 플랫폼 확장:
- **Twitter**: 팔로우, 리트윗, 멘션 분석
- **Facebook**: 친구, 공통 친구, 상호작용
- **LinkedIn**: 직장, 학교, 공통 연결 