# 상호작용 기반 점수 산정 방식 비교

Instagram 등 SNS에서 두 계정의 관계를 추정할 때, "상호작용"(좋아요, 댓글, 태그 등)을 활용한 점수 산정 방식에 대해 맞팔 여부를 기준으로 구분하여 정리합니다.

---

## 1. 맞팔 여부에 따른 분기

- **맞팔(상호 팔로우)인 경우**: 상호작용 점수 산정
- **맞팔이 아닌 경우**: 상호작용 점수는 0점(또는 N/A, 전체 점수에서 제외)

**실무적 이유:**
- 맞팔이 아니면 피드 노출, 접근성, 관심도 모두 낮아 상호작용이 거의 없음
- 비공개 계정은 맞팔이 아니면 게시글 접근 불가
- 맞팔이 아닌데 상호작용이 많다면 오히려 특이 케이스

---

## 2. 분석 대상 데이터
- 좋아요(Like) 기록: 서로의 게시글에 남긴 좋아요 수
- 댓글(Comment) 기록: 서로의 게시글에 남긴 댓글 수
- (선택) 태그/멘션: 게시글/댓글에서 서로를 태그한 횟수
- (선택) 스토리 반응 등

---

## 3. 산식 및 예시

### (1) 좋아요 빈도 점수
- **공식:**
  좋아요 점수 = (A가 B의 게시글에 남긴 좋아요 수 + B가 A의 게시글에 남긴 좋아요 수) / (A의 전체 게시글 수 + B의 전체 게시글 수) × 100
- **예시:**
  - A가 B의 게시글에 5번, B가 A의 게시글에 3번 좋아요
  - A 게시글 10개, B 게시글 10개
  - 점수 = (5+3)/(10+10) × 100 = 40점

### (2) 댓글 빈도 점수
- **공식:**
  댓글 점수 = (A가 B의 게시글에 남긴 댓글 수 + B가 A의 게시글에 남긴 댓글 수) / (A의 전체 게시글 수 + B의 전체 게시글 수) × 100
- **예시:**
  - A가 B에게 2번, B가 A에게 1번 댓글
  - 게시글 수는 위와 동일
  - 점수 = (2+1)/20 × 100 = 15점

### (3) 태그/멘션 빈도 (선택)
- **공식:**
  태그/멘션 점수 = (A가 B를 태그한 횟수 + B가 A를 태그한 횟수) / (A의 전체 게시글 수 + B의 전체 게시글 수) × 100

---

## 4. 최종 상호작용 점수 산정
- 좋아요 점수, 댓글 점수, (태그/멘션 점수)를 각각 산출
- 가중 평균 또는 단순 평균으로 최종 점수 산출
  - 예시: 최종 상호작용 점수 = (좋아요 점수 × 0.5) + (댓글 점수 × 0.5)
- 태그/멘션 점수는 데이터가 충분할 때만 포함, 가중치는 프로젝트 상황에 따라 조정

---

## 5. 참고 코드 예시
```python
def interaction_score(userA, userB):
    if not (userA.follows(userB) and userB.follows(userA)):
        return 0  # 맞팔이 아니면 상호작용 점수는 0점(또는 None)
    like_score = ((userA.likes_on_B + userB.likes_on_A) / (userA.num_posts + userB.num_posts)) * 100
    comment_score = ((userA.comments_on_B + userB.comments_on_A) / (userA.num_posts + userB.num_posts)) * 100
    return like_score * 0.5 + comment_score * 0.5
```

---

## 6. 기타 고려사항
- 비공개/비활성 계정: 데이터가 적으면 신뢰도 낮음
- 봇/스팸 계정: 비정상적 상호작용은 필터링 필요
- 시간 가중치: 최근 상호작용에 더 높은 가중치 부여 가능
- 상호작용의 질: 단순 수치 외에 댓글 내용, 반응의 진정성 등도 고려 가능

---

## 7. 팀 논의 포인트
- 좋아요/댓글/태그 중 어떤 항목에 더 높은 가중치를 둘 것인가?
- 최근 상호작용에 더 높은 점수를 줄 것인가?
- 데이터가 적을 때 점수 산정 방식(예: 0점 처리, 보정 등) 